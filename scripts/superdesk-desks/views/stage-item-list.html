<div ng-if="loading" class="item-group__loading"></div>
<div ng-if="!loading && !items.length && showEmpty" class="item-group__no-items" translate>No items in this stage</div>
<div tabindex="0">
    <ul ng-if="items.length" class="inline-content-items">
        <li ng-repeat="item in items track by generateTrackByIdentifier(item)" class="content-item"
            ng-click="action({item: item})"
            ng-class="{'content-item--locked': item.lock_user, shifted: allowed, active: item._id === selected._id}">
            <div class="content-item__type">
                <span ng-if="item.type==='composite'">
                    <i ng-if="item.package_type==='takes'" class="filetype-icon-takes-pack"></i>
                    <i ng-if="item.highlight" class="filetype-icon-highlight-pack"></i>
                    <i ng-if="item.package_type!=='takes' && !item.highlight" class="filetype-icon-{{item.type}}"></i>
                </span>
                <span ng-if="item.type!=='composite'">
                    <i class="filetype-icon-{{item.type}}"></i>
                </span>
            </div>
            <div class="content-item__urgency-field" sd-item-urgency data-urgency="item.urgency"></div>
            <div class="content-item__text">
                <time sd-datetime data-date="item.versioncreated" class="pull-right"></time>
                <span class="keywords">{{item.slugline}}</span>
                <span id="title" class="headline">{{item.headline}}</span>
            </div>
            <div class="content-item__action" ng-if="allowed">
                <button ng-click="preview(item); $event.stopPropagation();" title="{{ :: 'Preview' | translate }}"><i class="icon-external"></i></button>
                <button ng-click="edit(item); $event.stopPropagation();" title="{{ :: 'Edit' | translate }}"><i class="icon-pencil"></i></button>
            </div>
        </li>
    </ul>
</div>
