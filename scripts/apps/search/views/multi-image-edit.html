<div class="modal__header modal__header--flex">
    <h3 class="modal__heading modal__heading--no-grow">{{ :: 'Edit metadata' | translate }}</h3>

    <div class="modal__header-buttons  modal__header-buttons--center modal__header-element-grow button-nav"></div>

    <div class="modal__header-buttons modal__header-buttons--right">
        <button class="btn btn--ui-dark btn--hollow" ng-click="$close()">{{ 'Close' | translate }}</button>
        <button class="btn btn--primary btn--hollow" ng-click="save()" ng-disabled="!isDirty()">{{ 'Save' | translate }}</button>
        <button class="btn btn--primary btn--hollow" ng-click="save(true)" ng-disabled="!isDirty()">{{ 'Save & Close' | translate }}</button>
    </div>
</div>

<div class="modal__body modal__body--no-padding">
    <div class="sd-column-box--2">
        <div class="sd-column-box__main-column sd-column-box__main-column--photo-preview">
            <div class="sd-photo-preview sd-photo-preview--grid-only">
                <div class="sd-photo-preview__thumb-strip">
                    <div class="sd-grid-list dark-ui">

                        <div class="sd-grid-item sd-grid-item--with-click"
                             ng-click="selectImage(image)"
                             ng-repeat="image in origin track by image._id"
                             ng-class="{'sd-grid-item--selected' : !image.unselected}">
                            <div class="sd-grid-item__thumb">
                                <img ng-src="{{image.renditions.thumbnail.href}}"/>
                            </div>
                            <div class="sd-grid-item__content">
                                <time sd-absdate datetime="image.versioncreated"></time>
                                <p class="sd-grid-item__title">{{image.headline}}</p>
                                <p class="sd-grid-item--element-grow sd-grid-item__text-light">{{image.description_text}}</p>
                                <div class="sd-grid-item__content-block">
                                    <span class="sd-grid-item__text-label">Copyright:</span>
                                    <span class="sd-grid-item__text-strong">{{image.copyrightnotice}}</span>
                                </div>
                            </div>
                            <div class="sd-grid-item__footer">
                                <div class="sd-grid-item__footer-block sd-grid-item__footer-block--multi-l">
                                    <i class="icon-photo sd-grid-item__type-icn sd-grid-item__footer-block-item"></i>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>

        <div class="sd-column-box__slide-in-column sd-column-box__slide-in-column--large sd-column-box__slide-in-column--dark-ui">
            <div class="sd-column-box__slide-in-column-inner sd-slide-in-panel">
                <div class="sd-slide-in-panel__header">
                    <h3 class="sd-slide-in-panel__heading" translate>Metadata</h3>
                </div>
                <div class="sd-slide-in-panel__content">
                    <div class="sd-slide-in-panel__content-block sd-slide-in-panel__content-block--first">
                        <div class="sd-alert sd-alert--hollow sd-alert--primary sd-alert--small" style="margin: -1rem 0 3rem;">
                            <span translate>Currently editing: {{images.length}} items</span>
                        </div>
                        <div class="form__row" ng-if="validator.headline">
                            <sd-line-input
                                ng-model="metadata.headline"
                                data-dark="true"
                                data-boxed="true"
                                data-required="validator.headline.required"
                                data-label="{{:: 'Title' | translate}}"
                                data-disabled="!images.length"
                                data-onchange="onChange('headline')"
                                data-onblur="onBlur()"
                                data-maxlength="validator.headline.maxlength"
                                data-placeholder="{{placeholder['headline']}}">
                            </sd-line-input>
                        </div>

                        <div class="form__row" ng-if="validator.description_text">
                            <sd-line-input
                                ng-model="metadata.description_text"
                                data-dark="true"
                                data-boxed="true"
                                data-required="validator.description_text.required"
                                data-label="{{:: 'Description' | translate}}"
                                data-disabled="!images.length"
                                data-onchange="onChange('description_text')"
                                data-onblur="onBlur()"
                                data-maxlength="validator.description_text.maxlength"
                                data-placeholder="{{placeholder['description_text']}}">
                            </sd-line-input>
                        </div>

                        <div class="form__row" ng-if="validator.archive_description">
                            <sd-line-input
                                ng-model="metadata.archive_description"
                                data-dark="true"
                                data-boxed="true"
                                data-required="validator.archive_description.required"
                                data-label="{{:: 'Description' | translate}}"
                                data-disabled="!images.length"
                                data-onchange="onChange('archive_description')"
                                data-onblur="onBlur()"
                                data-maxlength="validator.archive_description.maxlength"
                                data-placeholder="{{placeholder['archive_description']}}">
                            </sd-line-input>
                        </div>

                        <div class="form__row" ng-if="validator.alt_text">
                            <sd-line-input
                                ng-model="metadata.alt_text"
                                data-dark="true"
                                data-boxed="true"
                                data-required="validator.alt_text.required"
                                data-label="{{:: 'Description' | translate}}"
                                data-disabled="!images.length"
                                data-onchange="onChange('alt_text')"
                                data-onblur="onBlur()"
                                data-maxlength="validator.alt_text.maxlength"
                                data-placeholder="{{placeholder['alt_text']}}">
                            </sd-line-input>
                        </div>

                        <div class="form__row" ng-if="validator.byline">
                            <sd-line-input
                                ng-model="metadata.byline"
                                data-dark="true"
                                data-boxed="true"
                                data-required="validator.byline.required"
                                data-label="{{:: 'Credit' | translate}}"
                                data-disabled="!images.length"
                                data-onchange="onChange('byline')"
                                data-onblur="onBlur()"
                                data-maxlength="validator.byline.maxlength"
                                data-placeholder="{{placeholder['byline']}}">
                            </sd-line-input>
                        </div>

                        <div class="form__row" ng-if="validator.copyrightholder">
                            <sd-line-input
                                ng-model="metadata.copyrightholder"
                                data-dark="true"
                                data-boxed="true"
                                data-required="validator.copyrightholder.required"
                                data-label="{{:: 'Copyright holder' | translate}}"
                                data-disabled="!images.length"
                                data-onchange="onChange('copyrightholder')"
                                data-onblur="onBlur()"
                                data-maxlength="validator.copyrightholder.maxlength"
                                data-placeholder="{{placeholder['copyrightholder']}}">
                            </sd-line-input>
                        </div>

                        <div class="form__row" ng-if="validator.usageterms">
                            <sd-line-input
                                data-dark="true"
                                data-boxed="true"
                                data-required="validator.usageterms.required"
                                data-label="{{:: 'Assign Rights' | translate}}"
                                data-transclude="true"
                                data-maxlength="validator.copyrightholder.maxlength">
                                <select class="sd-line-input__select" ng-model="metadata.usageterms" ng-change="onChange('usageterms')" ng-blur="onBlur()" ng-disabled="!images.length">
                                    <option translate value=""></option> <!-- not selected / blank option -->
                                    <option translate value="single-usage">Single Usage</option>
                                    <option translate value="time-restricted">Time Restricted</option>
                                    <option translate value="indefinite-usage">Indefinite Usage</option>
                                </select>
                            </sd-line-input>
                        </div>

                        <div class="form__row" ng-if="validator.copyrightnotice">
                            <sd-line-input
                                ng-model="metadata.copyrightnotice"
                                data-dark="true"
                                data-boxed="true"
                                data-required="validator.copyrightnotice.required"
                                data-label="{{:: 'Copyright notice' | translate}}"
                                data-disabled="!images.length"
                                data-onchange="onChange('copyrightnotice')"
                                data-onblur="onBlur()"
                                data-maxlength="validator.copyrightnotice.maxlength"
                                data-placeholder="{{placeholder['copyrightnotice']}}">
                            </sd-line-input>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
