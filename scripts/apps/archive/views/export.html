<div sd-modal data-model="true" data-close="closeExport()">
    <div class="modal__header">
        <a href="" class="modal__close pull-right" sd-hotkey="esc" ng-click="closeExport()"><i class="icon-close-small"></i></a>
        <h3 class="modal__heading" translate>Export</h3>
    </div>

    <div class="modal__body" ng-loading="loading">
        <div class="form__row">
            <div class="sd-line-input sd-line-input--is-select">
                <label class="sd-line-input__label">{{ :: 'Formatters' | translate }}</label>
                <select selected="selectedFormatter" ng-model="selectedFormatter" class="sd-line-input__select">
                    <option value="{{formatter}}" ng-repeat="formatter in exportFormatters">{{:: formatter.name}}</option>
                </select>
            </div>
        </div>
        <div class="form__row">
            <label translate>Validate</label>
            <span sd-switch ng-model="validate">{{ 'Validate' | translate }}</span>
        </div>

        <div class="form__row">
            <div ng-if="failures" class="sd-line-input sd-line-input--invalid">
                <div class="sd-line-input__message">{{ :: failures + ' items failed.' | translate }}</div>
            </div>
            <div ng-if="error">
                <div class="sd-line-input__message">{{ :: err_msg | translate }}</div>
            </div>
            <a id='exportDownloadLink' href="" ng-show="!error"></a>
        </div>
    </div>
    <div class="modal__footer">
        <button class="btn btn--primary btn--pull-right" ng-disabled="!exportFormatters.length > 0" ng-click="exportFile(selectedFormatter, validate)" translate>Export</button>
        <button class="btn" ng-click="cancel()" translate>Cancel</button>
    </div>
</div>
