<div class="subnav subnav--top" ng-if="type !== 'ingest'">
    <div class="subnav__desk-stage desk-stages subnav--padded">
        <div class="toggle-list" sd-desk-stages></div>
    </div>

    <div class="subnav__button-stack--square-buttons">
        <div class="dropdown dropdown--align-right strict" dropdown ng-if="type === 'archive'">
            <button tooltip="{{ :: 'Create' | translate }}" tooltip-placement="left" class="navbtn dropdown__toggle sd-create-btn" dropdown__toggle></button>
            <div class="dropdown__menu dropdown__menu--has-head-foot pull-right" sd-content-create></div>
        </div>
    </div>
</div>
<div class="subnav subnav--plain subnav--top" ng-class="{'subnav--archive': type === 'archive'}">
    <header class="search-page-header">
        <button class="filter-trigger" aria-label="{{ :: 'Filters' | translate }}" title="{{ :: 'Filters' | translate }}" ng-click="flags.facets = !flags.facets" ng-class="{'filter-trigger--active': flags.facets}"><i class="icon-filter-large"></i></button>

        <div sd-item-searchbar data-repo="repo" data-context="context" class="searchbar-flex-handler"></div>
        <div sd-item-sortbar data-total="total"></div>

        <div class="view-select">
            <button title="{{ :: 'Switch to grid view' | translate }}" ng-show="view !== 'mgrid'" ng-click="setview('mgrid')"><i class="icon-th"></i></button>
            <button title="{{ :: 'Switch to list view' | translate }}" ng-show="view !== 'compact'" ng-click="setview('compact')"><i class="icon-th-list"></i></button>
        </div>
        <div sd-multi-action-bar></div>
    </header>
</div>

<section sd-search-container class="main-section search-page-container {{type}}-container" ng-class="{'sidebar-open': flags.facets}">
    <div sd-search-panel class="archive-sidebar" data-items="items" data-repo="repo" data-desk="selected.desk"></div>
    <div sd-content-results class="archive-content"></div>
</section>
