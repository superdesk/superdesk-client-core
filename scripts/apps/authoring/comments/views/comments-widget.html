<div class="notification-list-box" ng-controller="CommentsWidgetCtrl">
    <ul class="notification-list white">
        <li ng-repeat="comment in comments" ng-class="{active: comment._id === active}">
            <figure class="avatar">
                <img sd-user-avatar data-user="comment.user">
            </figure>
            <div class="content">
                <div class="text" sd-comment-text data-comment="comment" data-name="{{comment.user.display_name || comment.user.username}}" data-text="{{comment.text}}"></div>
                <span class="date" sd-reldate ng-model="comment._created"></span>
            </div>
        </li>

        <li class="no-comments" ng-show="comments.length === 0">
          <div class="round-box">
            <i class="big-icon-comments"></i>
          </div>
          <h3 translate>No comments so far.</h3><span translate>Be the first...</span>
        </li>
        <li class="loading-info" ng-show="comments === null" translate>Loading...</li>
    </ul>
    <div class="add-comment">
        <form name="commentsForm">
            <div sd-user-mentio></div>
            <textarea class="new-comment" sd-auto-height ng-model="text" mentio id="mentio-users" ng-keyup="saveOnEnter($event)"></textarea>
            <div class="actions">
                <div class="pull-left post"><input type="checkbox" ng-model="saveEnterFlag"> <span translate>Post on 'Enter'</span></div>
                <button id="comment-post" class="btn btn--primary pull-right" ng-click="save()" ng-show="!saveEnterFlag" ng-disabled='!text' translate>Post</button>
                <button class="btn pull-right" ng-click="cancel()" ng-show="!saveEnterFlag" translate>Cancel</button>
            </div>
        </form>
    </div>
</div>
