<div class="modal-header">
    <h3 class="pull-left">{{ activity.label|translate }}</h3>
    <button type="button" class="close" ng-click="close()"><i class="icon-close-small"></i></button>
</div>

<div class="modal-body">
    <section class="main">
        <div class="change-image__metadata" ng-if="data.showMetadataEditor">
            <div class="change-image__metadata__header" translate>Metadata</div>
            <div>
                <label translate>Headline *</label>
                <input type="text" ng-model="data.metadata.headline" ng-change="data.isDirty = true" class="line-input">
            </div>
            <div>
                <label translate>Description *</label>
                <input type="text" ng-model="data.metadata.description_text" ng-change="data.isDirty = true" class="line-input">
            </div>
            <div>
                <label translate>Alt Text</label>
                <input type="text" ng-model="data.metadata.alt_text" ng-change="data.isDirty = true" class="line-input">
            </div>
            <div>
                <label translate>Slugline *</label>
                <input type="text" ng-model="data.metadata.slugline" ng-change="data.isDirty = true" class="line-input">
            </div>
            <div>
                <label translate>Author / photographer</label>
                <input type="text" ng-model="data.metadata.byline" ng-change="data.isDirty = true" class="line-input">
            </div>
            <div>
                <select ng-model="data.metadata.usageterms">
                    <option translate value="">---Assing Rights---</option> <!-- not selected / blank option -->
                    <option translate value="single-usage">Single Usage</option>
                    <option translate value="time-restricted">Time Restricted</option>
                    <option translate value="indefinite-usage">Indefinite Usage</option>
                </select>
            </div>
            <div>
                <label translate>Add details on rights</label>
                <input type="text" ng-model="data.metadata.copyrightnotice" ng-change="data.isDirty = true" class="line-input">
            </div>
        </div>
        <div id="dynBoxId2" class="preview">
            <div class="selected-area">
                <div ng-hide="selectedRendition">
                    <label class="field-label" translate>Original</label>
                    <div sd-image-point
                        data-src="data.item.renditions.viewImage.href"
                        data-point="data.poi"
                        data-on-change="data.isDirty = true"
                        class="poi__image">
                    </div>
                </div>
                <div class="crop-area selected" ng-show="selectedRendition">
                    <div ng-repeat="rendition in data.renditions track by rendition.name" ng-show="selectedRendition.name === rendition.name">
                        <label class="field-label">{{selectedRendition.name}}</label>
                        <div sd-image-crop-view
                            data-src="data.item.renditions.viewImage.href"
                            data-original="data.item.renditions.original"
                            data-crop-data="data.cropData[rendition.name]"
                        ></div>
                    </div>
                </div>
            </div>
            <div class="original">
                <div class="crop-area thumbnails">
                    <ul>
                        <li ng-click="selectRendition()" ng-class="{active: selectedRendition === null}">
                            <div sd-image-point
                                data-src="data.item.renditions.viewImage.href"
                                data-point="data.poi"
                                data-on-change="data.isDirty = true"
                                class="poi__image">
                            </div>
                            <label class="field-label" translate>Original</label>
                        </li>
                        <li ng-repeat="rendition in data.renditions track by rendition.name" ng-click="selectRendition(rendition)" ng-class="{active: rendition === selectedRendition}">
                            <div sd-image-crop
                                data-show-Min-Size-Error="true"
                                data-box-width="600"
                                data-box-height="400"
                                data-src="data.item.renditions.viewImage.href"
                                data-original="data.item.renditions.original"
                                data-rendition="rendition"
                                data-crop-init="data.item.renditions[rendition.name]"
                                data-crop-data="data.cropData[rendition.name]"
                                data-on-change="onChange(renditionName, cropData)">
                            </div>

                            <label class="field-label">{{ rendition.name }}</label>
                        </li>
                    </ul>
                </div>
          </div>
        </div>
    </section>
</div>

<div class="modal-footer">
    <button type="button"
        class="btn btn-medium btn-info"
        ng-click="done()"
        ng-disabled="!data.isDirty"
        translate>Save</button>
</div>
